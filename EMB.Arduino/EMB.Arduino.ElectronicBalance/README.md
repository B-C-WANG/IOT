# Arduino.ElectronicBalance
# 电子秤的开源改造
1. 网购一个简单的手持式电子秤，这里用的是淘宝上的一个量程200g，精度0.01g，售价为20的。**主要是用里面已经封装并调试好了的应变片，因为如果自己去贴应变片很大概率不成功**
![](http://i.imgur.com/XSFs7Ho.jpg)
2. 购买一个HX711重量传感器转换模块
3. 进行拆解，拆解出应变部分，并把红黑绿白四个颜色的线牵出来，连接到HX711模块上
![](http://i.imgur.com/fFTti4O.jpg)
![](http://i.imgur.com/8tLKitP.jpg)
4. 连接之后：
![](http://i.imgur.com/6zvEylg.jpg)

- 项目需要HX711的库文件：https://github.com/bogde/HX711
- 根据HX711Serial.ino的内容，将data连接在A1上，sck时钟连接在A0上
- 打开HX711Serial.ino，调整参数，烧写至Arudino中，关于参数的调整：关键的地方主要有3个，一是dataoutput和sck的连接位置；二是scale.set_scale(400);中的数值；三是delay()的时间。 
- 灵敏度的调整：与灵敏度相关的就是scale.set_scale(400);括号里的这个数值，这个数值越小，灵敏度越高，但受到影响越大。比如，我将其设置为1，放入5g的砝码时，会显示数值为2000左右，并且变动较大，撤去砝码后数值到0之后还会逐渐上升（应变片微小的形变被计入）。而设置为400后，放入5g 砝码会显示200，且数值较为稳定。得到真实重量数据需要多个砝码，另外保持数据的线性很重要，量程一般是由应变片的耐受程度和数据的线性范围决定的。 因而要么采用数据分析或者机器学习的方法消除误差达到极高精度，要么利用低精度实现低误差。此外也可以通过增加形变阻尼的方式减小数据飘动。 

**应用** 
- 电子秤通过提取压力传感器的方式进行开源改造后，一来可以结合其他设备进行物联网式改造，二来可以实现连续的数据测定（通过SD卡存储），可以应用的领域很多，结合PM2.5滤膜可以监测空气质量，用特殊吸湿特性的材料可以制成新型的湿度计，可以监测常温化学反应下的物料流动，也可结合粉末加料器、阀门或挤出机等设计自动称量装置。

